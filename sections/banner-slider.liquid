<div class="swiper mySwiper">
  <div class="swiper-wrapper">
    {% for block in section.blocks %}
      <div class="swiper-slide">
        <div class="banner-slide-content">
          {% if block.settings.image %}
            <img src="{{ block.settings.image | img_url: 'master' }}" alt="{{ block.settings.heading | escape }}" class="banner-slide-image" />
          {% endif %}

          <div class="banner-text">
            {% if block.settings.heading != blank %}
              <h2 class="banner-heading">{{ block.settings.heading }}</h2>
            {% endif %}
            {% if block.settings.description != blank %}
              <p class="banner-description">{{ block.settings.description }}</p>
            {% endif %}
          </div>

          {% if block.settings.button_text != blank %}
            
            <a li-object:href="{{ block.settings.button_link }}" href="{{ block.settings.button_link }}" class="button w-inline-block is-default is-primary banner-button"><div class="settings-schema w-embed"></div>
                    <span li-if="block.settings.btn_layout != 'btn_layout_icon'">
                    {{ block.settings.button_text }}   </span>
                  
            </a>
          {% endif %}
        </div>
      </div>
    {% endfor %}
  </div>

  <!-- arrows + dots -->
  <div class="swiper-button-next"></div>
  <div class="swiper-button-prev"></div>
  <div class="swiper-pagination"></div>
</div>


{% schema %}
{
  "name": "Banner Slider",
  "blocks": [
    {
      "type": "slide",
      "name": "Slide",
      "settings": [
        { "type": "image_picker", "id": "image", "label": "Slide Image" },
        { "type": "text", "id": "heading", "label": "Heading" },
        { "type": "textarea", "id": "description", "label": "Description" },
        { "type": "text", "id": "button_text", "label": "Button Text" },
        { "type": "url", "id": "button_link", "label": "Button Link" }
      ]
    }
  ],
  "presets": [{ "name": "Banner Slider" }]
}
{% endschema %}

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />
<script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>

<script>
  document.addEventListener("DOMContentLoaded", function() {
    new Swiper(".mySwiper", {
      loop: true,
      navigation: {
        nextEl: ".swiper-button-next",
        prevEl: ".swiper-button-prev",
      },
      pagination: {
        el: ".swiper-pagination",
        clickable: true,
      },
    });
  });
</script>


<style>
/* Slide container: 2/3 of viewport height */
.banner-slide-content {
  position: relative;
  height: 66vh;
  overflow: hidden;
}

/* Image fills container */
.banner-slide-image {
  width: 100%;
  height: 100%;
  object-fit: cover;
  display: block;
}

/* Text block centered */
.banner-text {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  text-align: center;
  color: #fff;
  max-width: 80%;
}

/* Button anchored 100px above bottom */
.banner-button {
  position: absolute;
  bottom: 45px;
  left: 50%;
  display: inline-block;  
}
.swiper-button-next, .swiper-button-prev{
    color: white;
}

</style>

