<div class="section_banner-slider padding-global">
  <div class="swiper mySwiper">
    <div class="swiper-wrapper">
      {% for block in section.blocks %}
        <div class="swiper-slide">
          <div class="banner-slide-content">
            
            {% if block.settings.image %}
              <!-- Desktop Image -->
              <img 
                src="{{ block.settings.image | img_url: 'master' }}" 
                alt="{{ block.settings.heading | escape }}" 
                class="banner-slide-image desktop-image"
              />
            {% endif %}
            
            {% if block.settings.mobile_image %}
              <!-- Mobile Image -->
              <img 
                src="{{ block.settings.mobile_image | img_url: 'master' }}" 
                alt="{{ block.settings.heading | escape }}" 
                class="banner-slide-image mobile-image"
              />
            {% endif %}

            <div class="banner-content-wrapper">
              <div class="banner-text">
                {% if block.settings.heading != blank %}
                  <h1 class="banner-heading">{{ block.settings.heading }}</h1>
                {% endif %}
                {% if block.settings.description != blank %}
                  <p class="banner-description">{{ block.settings.description }}</p>
                {% endif %}
                {% if block.settings.button_text != blank %}
                  <a href="{{ block.settings.button_link }}" class="button w-inline-block is-default is-primary banner-button">
                    <span>{{ block.settings.button_text }}</span>
                  </a>
                {% endif %}
              </div>
            </div>
          </div>
        </div>
      {% endfor %}
    </div>

    <!-- arrows + dots -->
    <div class="swiper-button-next"></div>
    <div class="swiper-button-prev"></div>
    <div class="swiper-pagination"></div>
  </div>
</div>

{% schema %}
{
  "name": "Banner Slider",
  "blocks": [
    {
      "type": "slide",
      "name": "Slide",
      "settings": [
        { "type": "image_picker", "id": "image", "label": "Desktop Image" },
        { "type": "image_picker", "id": "mobile_image", "label": "Mobile Image" },
        { "type": "text", "id": "heading", "label": "Heading" },
        { "type": "textarea", "id": "description", "label": "Description" },
        { "type": "text", "id": "button_text", "label": "Button Text" },
        { "type": "url", "id": "button_link", "label": "Button Link" }
      ]
    }
  ],
  "presets": [{ "name": "Banner Slider" }]
}
{% endschema %}

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />
<script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js" defer></script>

<script>
  document.addEventListener("DOMContentLoaded", function() {
    new Swiper(".mySwiper", {
      loop: true,
      navigation: {
        nextEl: ".swiper-button-next",
        prevEl: ".swiper-button-prev",
      },
      pagination: {
        el: ".swiper-pagination",
        clickable: true,
      },
    });
  });
</script>

<style>
/* ---------- Desktop styles (unchanged) ---------- */
.banner-slide-content {
  position: relative;
  height: 66vh;
  overflow: hidden;
  display: flex;
  align-items: center;
}

.banner-slide-image {
  width: 100%;
  height: 100%;
  object-fit: contain;
  display: block;
  position: absolute;
  top: 0;
  left: 0;
  z-index: 1;
  background: transparent;
  border-radius: 20px;
}

/* Default: show desktop image, hide mobile */
.desktop-image { display: block; }
.mobile-image { display: none; }

.banner-content-wrapper {
  position: relative;
  z-index: 2;
  width: 100%;
  max-width: 1700px;
  margin: 0 auto;
  padding: 0 80px;
}

.banner-text {
  max-width: 600px;
  color: #fff;
  text-align: left;
}

.banner-heading {
  font-family: 'Newake', sans-serif;
  font-size: clamp(3rem, 6vw, 60px);
  font-weight: 400;
  line-height: 60px;
  letter-spacing: 0%;
  vertical-align: middle;
  margin-bottom: 1rem;
  text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
  text-transform: inherit;
}

.banner-description {
  font-size: 1.2rem;
  line-height: 1.6;
  margin-bottom: 2rem;
  opacity: 0.95;
  text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.3);
}

.banner-button {
  margin-top: 1rem;
  width: auto !important;
  display: inline-block !important;
  max-width: none !important;
}

/* Swiper controls */
.swiper-button-next, .swiper-button-prev {
  color: white;
  width: 50px;
  height: 50px;
  border-radius: 50%;
  backdrop-filter: blur(10px);
}

.swiper-pagination-bullet {
  background: rgba(255, 255, 255, 0.7);
}

.swiper-pagination-bullet-active {
  background: #ff6b35;
}

/* ---------- Mobile adjustments ---------- */
@media (max-width: 768px) {
  .banner-slide-content {
    height: 80vh;
  }

  /* Swap images */
  .desktop-image { display: none; }
  .mobile-image { display: block; object-fit: cover;}

  .banner-slide-content{
    align-items: flex-start;
  }
  .banner-content-wrapper {
    padding: 40px 30px;
  }

  .banner-heading {
    font-size: clamp(2rem, 6vw, 3rem);
    margin-bottom: 0.8rem;
    line-height: 40px;
  }

  .banner-description {
    font-size: 1rem;
    margin-bottom: 1.5rem;
  }

  .banner-button {
    padding: 12px 24px;
    font-size: 0.9rem;
    width: 100% !important;
    text-align: center;
  }
}
</style>
