{% comment %}
  Announcement Carousel Section with Social Icons
{% endcomment %}

<div class="announcement-bar">
  <!-- Left: Social icons -->
  <div class="announcement-left announcement-col">
    {% if section.settings.social_facebook_link != blank %}
      <a href="{{ section.settings.social_facebook_link }}" target="_blank" aria-label="Facebook">
        <!-- Facebook SVG -->
        <svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
          <g clip-path="url(#clip0_fb)">
            <path d="M16.5 9C16.5 4.86 13.14 1.5 9 1.5C4.86 1.5 1.5 4.86 1.5 9C1.5 12.63 4.08 15.6525 7.5 16.35V11.25H6V9H7.5V7.125C7.5 5.6775 8.6775 4.5 10.125 4.5H12V6.75H10.5C10.0875 6.75 9.75 7.0875 9.75 7.5V9H12V11.25H9.75V16.4625C13.5375 16.0875 16.5 12.8925 16.5 9Z" fill="white"/>
          </g>
          <defs>
            <clipPath id="clip0_fb"><rect width="18" height="18" fill="white"/></clipPath>
          </defs>
        </svg>
      </a>
    {% endif %}

    {% if section.settings.social_instagram_link != blank %}
      <a href="{{ section.settings.social_instagram_link }}" target="_blank" aria-label="Instagram">
        <!-- Instagram SVG -->
        
        <svg width="18" height="18" viewBox="0 0 18 18" fill="white" xmlns="http://www.w3.org/2000/svg">
        <g clip-path="url(#clip0_286_331)">
        <path d="M5.85 1.5H12.15C14.55 1.5 16.5 3.45 16.5 5.85V12.15C16.5 13.3037 16.0417 14.4101 15.2259 15.2259C14.4101 16.0417 13.3037 16.5 12.15 16.5H5.85C3.45 16.5 1.5 14.55 1.5 12.15V5.85C1.5 4.69631 1.9583 3.58987 2.77409 2.77409C3.58987 1.9583 4.69631 1.5 5.85 1.5ZM5.7 3C4.98392 3 4.29716 3.28446 3.79081 3.79081C3.28446 4.29716 3 4.98392 3 5.7V12.3C3 13.7925 4.2075 15 5.7 15H12.3C13.0161 15 13.7028 14.7155 14.2092 14.2092C14.7155 13.7028 15 13.0161 15 12.3V5.7C15 4.2075 13.7925 3 12.3 3H5.7ZM12.9375 4.125C13.1861 4.125 13.4246 4.22377 13.6004 4.39959C13.7762 4.5754 13.875 4.81386 13.875 5.0625C13.875 5.31114 13.7762 5.5496 13.6004 5.72541C13.4246 5.90123 13.1861 6 12.9375 6C12.6889 6 12.4504 5.90123 12.2746 5.72541C12.0988 5.5496 12 5.31114 12 5.0625C12 4.81386 12.0988 4.5754 12.2746 4.39959C12.4504 4.22377 12.6889 4.125 12.9375 4.125ZM9 5.25C9.99456 5.25 10.9484 5.64509 11.6517 6.34835C12.3549 7.05161 12.75 8.00544 12.75 9C12.75 9.99456 12.3549 10.9484 11.6517 11.6517C10.9484 12.3549 9.99456 12.75 9 12.75C8.00544 12.75 7.05161 12.3549 6.34835 11.6517C5.64509 10.9484 5.25 9.99456 5.25 9C5.25 8.00544 5.64509 7.05161 6.34835 6.34835C7.05161 5.64509 8.00544 5.25 9 5.25ZM9 6.75C8.40326 6.75 7.83097 6.98705 7.40901 7.40901C6.98705 7.83097 6.75 8.40326 6.75 9C6.75 9.59674 6.98705 10.169 7.40901 10.591C7.83097 11.0129 8.40326 11.25 9 11.25C9.59674 11.25 10.169 11.0129 10.591 10.591C11.0129 10.169 11.25 9.59674 11.25 9C11.25 8.40326 11.0129 7.83097 10.591 7.40901C10.169 6.98705 9.59674 6.75 9 6.75Z" />
        </g>
        <defs>
        <clipPath id="clip0_286_331">
        <rect width="18" height="18" fill="white"/>
        </clipPath>
        </defs>
        </svg>
        
      </a>
    {% endif %}

    {% if section.settings.social_youtube_link != blank %}
      <a href="{{ section.settings.social_youtube_link }}" target="_blank" aria-label="YouTube">
        <!-- YouTube SVG -->
        <svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
          <g clip-path="url(#clip0_yt)">
            <path d="M9.183 3C9.5835 3.00225 10.5855 3.012 11.6505 3.05475L12.0285 3.07125C13.1003 3.1215 14.1713 3.2085 14.703 3.35625C15.4117 3.55575 15.9683 4.13625 16.1565 4.87275C16.4565 6.04275 16.494 8.32425 16.4985 8.877V9.1215C16.494 9.67425 16.4565 11.9565 16.1565 13.1257C15.966 13.8645 15.4088 14.4458 14.703 14.6423C14.1713 14.79 13.1003 14.877 12.0285 14.9272L11.6505 14.9445C10.5855 14.9865 9.5835 14.997 9.183 14.9985H8.8155C7.968 14.994 4.4235 14.9558 3.2955 14.6423C2.5875 14.4428 2.03025 13.8622 1.842 13.1257C1.542 11.9557 1.5045 9.67425 1.5 9.1215V8.877C1.5045 8.32425 1.542 6.042 1.842 4.87275C2.0325 4.134 2.58975 3.55275 3.29625 3.357C4.4235 3.04275 7.96875 3.0045 8.81625 3H9.183ZM7.49925 6.375V11.625L11.9992 9L7.49925 6.375Z" fill="white"/>
          </g>
          <defs>
            <clipPath id="clip0_yt"><rect width="18" height="18" fill="white"/></clipPath>
          </defs>
        </svg>
      </a>
    {% endif %}
  </div>

  <!-- Center: Carousel -->
  <div class="announcement-col">
    <div class="announcement-carousel swiper">
      <div class="swiper-wrapper">
        {% for block in section.blocks %}
          <div class="swiper-slide">
            <p class="announcement-text">{{ block.settings.text }}</p>
          </div>
        {% endfor %}
      </div>
      <div class="swiper-button-prev"></div>
      <div class="swiper-button-next"></div>
    </div>
  </div>

  <!-- Right: empty for alignment -->
  <div class="announcement-right announcement-col"></div>
</div>

<style>
.announcement-bar {
  background: #6a1b9a;
  display: grid;
  grid-template-columns: 25% 50% 25%;
  align-items: center;
  min-height: 55px;
  border-radius: 1.5rem;
  margin: 10px 10px 0 10px;
}
.announcement-col {
  display: flex;
  align-items: center;
  justify-content: center;
}
.announcement-left {
    justify-content: flex-start;
    gap: 20px;
    padding-left: 20px;
}
.announcement-left a {
  margin: 0 6px;
  display: flex;
  justify-content: center;
  color: #f7f1d5 !important;
}
.announcement-carousel {
  color: #fff;
  text-align: center;
  width: 100%;
}
.announcement-text {
  font-weight: 600;
  font-size: 14px;
  margin: 0;
}
.announcement-carousel .swiper-button-prev,
.announcement-carousel .swiper-button-next {
  color: #fff;
}
.swiper-button-next:after, .swiper-button-prev:after{
    font-size: 11px !important;
}
@media (max-width: 768px) {
  .announcement-left,
  .announcement-right {
    display: none;
  }
  .announcement-bar {
    grid-template-columns: 100%;
  }
}

</style>

{% comment %} <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script> {% endcomment %}
<script>
  document.addEventListener("DOMContentLoaded", function() {
    new Swiper(".announcement-carousel", {
      loop: true,
      autoplay: { delay: 3000 },
      navigation: {
        nextEl: ".swiper-button-next",
        prevEl: ".swiper-button-prev",
      },
    });
  });
</script>

{% schema %}
{
  "name": "Announcement Carousel",
  "settings": [
    {
      "type": "url",
      "id": "social_facebook_link",
      "label": "Facebook URL"
    },
    {
      "type": "url",
      "id": "social_instagram_link",
      "label": "Instagram URL"
    },
    {
      "type": "url",
      "id": "social_youtube_link",
      "label": "YouTube URL"
    }
  ],
  "blocks": [
    {
      "type": "announcement",
      "name": "Announcement",
      "settings": [
        {
          "type": "text",
          "id": "text",
          "label": "Announcement text",
          "default": "Express Merch in 7-10 Days"
        }
      ]
    }
  ],
  "max_blocks": 10,
  "presets": [
    {
      "name": "Announcement Carousel"
    }
  ]
}
{% endschema %}
